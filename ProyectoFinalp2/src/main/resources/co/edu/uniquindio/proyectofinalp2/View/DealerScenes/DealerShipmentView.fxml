<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.control.*?>
<?import javafx.scene.layout.*?>
<?import javafx.geometry.Insets?>

<VBox xmlns:fx="http://javafx.com/fxml"
      fx:controller="co.edu.uniquindio.proyectofinalp2.ViewController.DealerViewController.DealerShipmentController"
      spacing="20">

    <padding>
        <Insets top="25" right="25" bottom="25" left="25" />
    </padding>

    <HBox alignment="CENTER_LEFT" spacing="15">
        <Label text="ðŸ“¦ Mis EnvÃ­os Asignados" style="-fx-font-size: 24px; -fx-font-weight: bold;"/>
    </HBox>

    <Separator/>

    <HBox spacing="15" alignment="CENTER_LEFT">
        <Label text="Filtrar por estado:" style="-fx-font-weight: bold;"/>
        <ComboBox fx:id="cmbFiltroEstado" prefWidth="200" promptText="Todos los estados"/>
        <Button text="ðŸ”„ Actualizar" onAction="#onActualizarLista" prefWidth="130"/>
    </HBox>

    <VBox VBox.vgrow="ALWAYS" spacing="10">
        <Label text="ðŸ“‹ Lista de EnvÃ­os" style="-fx-font-size: 16px; -fx-font-weight: bold;" />
        <TableView fx:id="tablaEnvios" VBox.vgrow="ALWAYS">
            <columns>
                <TableColumn fx:id="colShipmentId" text="ID EnvÃ­o" prefWidth="150"/>
                <TableColumn fx:id="colCliente" text="Cliente" prefWidth="150"/>
                <TableColumn fx:id="colOrigen" text="Origen" prefWidth="180"/>
                <TableColumn fx:id="colDestino" text="Destino" prefWidth="180"/>
                <TableColumn fx:id="colEstado" text="Estado" prefWidth="120"/>
                <TableColumn fx:id="colFecha" text="Fecha CreaciÃ³n" prefWidth="140"/>
            </columns>
            <columnResizePolicy>
                <TableView fx:constant="CONSTRAINED_RESIZE_POLICY" />
            </columnResizePolicy>
        </TableView>
    </VBox>

    <VBox spacing="15" style="-fx-padding: 15; -fx-border-color: #bdc3c7; -fx-border-width: 1;">
        <Label text="âš™ï¸ Panel de Acciones" style="-fx-font-size: 16px; -fx-font-weight: bold;"/>

        <VBox spacing="5">
            <Label text="EnvÃ­o Seleccionado:" style="-fx-font-weight: bold;"/>
            <Label fx:id="lblEnvioSeleccionado" text="Ninguno" style="-fx-text-fill: #7f8c8d;"/>
        </VBox>

        <Separator/>

        <VBox spacing="10">
            <Label text="Actualizar Estado:" style="-fx-font-weight: bold;"/>
            <ComboBox fx:id="cmbNuevoEstado" prefWidth="300" promptText="Seleccionar nuevo estado"/>
        </VBox>

        <HBox spacing="15">
            <Button text="âœ… Marcar En Ruta"
                    onAction="#onMarcarEnRuta"
                    prefWidth="200"/>
            <Button text="ðŸ“ Marcar Entregado"
                    onAction="#onMarcarEntregado"
                    prefWidth="200"/>
        </HBox>

        <Separator/>

        <VBox spacing="10">
            <Label text="âš ï¸ Reportar Incidencia" style="-fx-font-weight: bold; -fx-text-fill: #e74c3c;"/>
            <TextArea fx:id="txtIncidencia"
                      promptText="Describe la incidencia (direcciÃ³n incorrecta, cliente ausente, etc.)"
                      prefHeight="80"
                      wrapText="true"/>
            <Button text="ðŸš¨ REPORTAR INCIDENCIA"
                    onAction="#onReportarIncidencia"
                    prefWidth="220"/>
        </VBox>
    </VBox>
</VBox>